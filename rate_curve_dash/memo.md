
---

# 빈 프로젝트로 새로 시작하기 위한 프롬프트
이제 oracle db mmkt_rate에서 data를 가져와서 금리커브 시각화 툴을 배포할건데 (아마 웹브라우저로 접속할수 있도록) 

## INPUT:
*curve_name (혹은 curve_id) 을 인풋으로 받고 (예: KRWQ3L) 근데 입력창에 KRW 를 입력하면 풀다운 메뉴로 선택가능한 녀석이 뜨도록
*data range lable 아래 start date, end date 입력하도록 
*YYYYMMDD 형식으로 받거나 달력 클릭해서 달력에서 선택.

위 설정을 마치고 data_load 버튼을 누르면 
기간내의 curve_id , mid 값을 가져와서 cache로 가지고 있음.

## OUTPUT:
커브를 그려주는데 
*X축에  tenor_name_to_year_fraction 스케일로 나타내는데 명칭은 tenor_name 사용
*Y 축에는 MID 값을 나타내고
y축 최소, 최대값:  curve_name (curve_id?) 에 0.5% 버퍼를 둠
커브 아래에 y축과 동일한 길이인 date slider 가 있어서 일단은 end date 위치에 위치시키고 슬라이더 위에 날짜를 표시함
*수기로 슬라이더 이동시키면 해당 날짜의 커브가 chart에 표시되도록 한다
*슬라이더 이동중에 슬라이더 위에 날짜가 표시되도록 한다.
*슬라이더 이동 중에도 커프가 해당 날짜의 커브가 표시되도록
*play pause 버튼: 플레이 누르면 슬라이더 자동이동 되면서 날짜와 커브 표시되도록
  데이터 갯수가 너무 많아서 느려지면 안되니까 한 그래프를 1/60초식 화면에 표시하는걸 기준으로 5초안에 전체 기간에 대한 플레이가 완료되도록 날짜 갯수를 조절해서 표현하도록 함
  5초가 기본이고 0.5배속 1 2 5 10배속 선택이 가능하도록 풀다운 메뉴도 만들어 주고 

## 사용 Library
일단 streamlit 을 시도해보고 아래 버그리스트를 보고 버그가 생기는지 playwright 이용해서 체크하고 수정해줘
cursor로 만든 streamlit 은 화면 전체 리프레쉬 되면서 화면이 비워지고 스크롤이 초기화 되는 등의 이슈로 아래 버그가 반복적으로 나타났음
streamlit 으로도 구조적이고 간단하게 이걸 해소 할 수 있는 방법이 있으면 구현해주고
아니면 다른 방식을 제안해줘 

## 오라클 접속등은 basic_library 폴더 참조

# 버그 리스트
1. 날짜 슬라이더 변경시 화면 스크롤 최상단으로 이동
2. start date 입력값 변경시 1.번 문제 반복되는 것
3. 날짜 슬라이더 클릭시 새로 입력된 start date 무시하고 최초 start date 적용되는 것
4. 슬라이더 날짜 클릭시 2번에 1번꼴로 클릭된 위치가 아닌 이전 위치로 가는 문제
5. curve_id 변경하고 슬라이더 건드리면 chart에 예전 curve_id curve 가 그려지는 에러가 생겼네.
6. curve_id 변경하고 슬라이더 건드리면 두번에 한번 꼴로 chart에 예전 curve_id curve 가 그려지는 에러가 생겼네.
